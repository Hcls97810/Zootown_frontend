{"ast":null,"code":"var _jsxFileName = \"/Volumes/DD_Drive/works_Dev/React_works/ZooTown/ZooTown_FrontEnd/src/components/UI/modal/Login.content.js\";\nimport React from \"react\";\nimport { Input, Button } from \"../../../components/UI\";\nimport { Form, message } from \"antd\";\nimport { _url } from \"../../../config/utils\";\nimport { Modal, SignupFreelancer, ForgotPasswordContent } from \"./index\";\nimport { login, LOGIN } from \"../../../actions/auth\";\nimport { connect } from \"react-redux\";\nimport { Mutation } from \"react-apollo\";\nimport { withRouter } from \"react-router\";\n\nclass LoginContent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogin = (login, data) => {\n      login({\n        variables: {\n          email: data.email,\n          password: data.password\n        }\n      });\n    };\n\n    this.onComplete = data => {\n      message.success('Login successful!');\n      localStorage.setItem('token', data.login.token);\n      this.props.dispatch(login(data));\n      this.props.history.push('/');\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(Mutation, {\n      mutation: LOGIN,\n      onCompleted: this.onComplete,\n      onError: () => message.error('Login fail, please try again!'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, (login, {\n      loading,\n      data\n    }) => React.createElement(\"div\", {\n      className: \"LoginContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LoginContent__Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"log in\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"you're almost there\")), React.createElement(WrappedNormalLoginForm, {\n      onSubmit: e => this.onLogin(login, e),\n      loading: loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"LoginContent__Footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      content: React.createElement(ForgotPasswordContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }),\n      className: \"ModalForgotPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Forgot password?\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Don\\u2019t have Account? Please\", \" \", React.createElement(Modal, {\n      content: React.createElement(SignupFreelancer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }),\n      className: \"ModalSignup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Sign up\"))), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Or Use Social Networks\"), React.createElement(\"div\", {\n      className: \"social\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"google\",\n      onClick: () => this.goToLink(\"https://google.com/\"),\n      src: _url(\"assets/icons/google-round.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      alt: \"linkedin\",\n      onClick: () => this.goToLink(\"https://linkedin.com/\"),\n      src: _url(\"assets/icons/linkedin-round.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nclass NormalLoginForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          this.props.onSubmit(values);\n        }\n      });\n    };\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"LoginContent__Form login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LoginContent__Form__Head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LoginContent__Form__Head--Col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, getFieldDecorator(\"email\", {\n      rules: [{\n        required: true,\n        message: \"Please input your email\"\n      }]\n    })(React.createElement(Input, {\n      type: \"email\",\n      placeholder: \"Input Your Text Here\",\n      label: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, getFieldDecorator(\"password\", {\n      rules: [{\n        required: true,\n        message: \"Please input your password\"\n      }]\n    })(React.createElement(Input, {\n      type: \"password\",\n      placeholder: \"Input Your Text Here\",\n      label: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"LoginContent__Form__Footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      background: \"#FED008\",\n      loading: this.props.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Log in\")));\n  }\n\n}\n\nconst WrappedNormalLoginForm = Form.create({\n  name: \"normal_login\"\n})(NormalLoginForm);\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(LoginContent));","map":{"version":3,"sources":["/Volumes/DD_Drive/works_Dev/React_works/ZooTown/ZooTown_FrontEnd/src/components/UI/modal/Login.content.js"],"names":["React","Input","Button","Form","message","_url","Modal","SignupFreelancer","ForgotPasswordContent","login","LOGIN","connect","Mutation","withRouter","LoginContent","Component","constructor","props","onLogin","data","variables","email","password","onComplete","success","localStorage","setItem","token","dispatch","history","push","state","render","error","loading","e","goToLink","NormalLoginForm","handleSubmit","preventDefault","form","validateFields","err","values","onSubmit","getFieldDecorator","rules","required","WrappedNormalLoginForm","create","name","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Input, Button } from \"../../../components/UI\";\r\nimport { Form, message } from \"antd\";\r\nimport { _url } from \"../../../config/utils\";\r\nimport { Modal, SignupFreelancer, ForgotPasswordContent } from \"./index\";\r\nimport { login, LOGIN } from \"../../../actions/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass LoginContent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  onLogin = (login, data) => {\r\n    login({ variables: { email: data.email, password: data.password } });\r\n  };\r\n\r\n  onComplete = data => {\r\n    message.success('Login successful!');\r\n    localStorage.setItem('token', data.login.token)\r\n    this.props.dispatch(login(data));\r\n    this.props.history.push('/');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Mutation mutation={LOGIN} onCompleted={this.onComplete} onError={()=>message.error('Login fail, please try again!')}>\r\n        {(login, { loading, data }) => (\r\n          <div className=\"LoginContent\">\r\n            <div className=\"LoginContent__Header\">\r\n              <h3>log in</h3>\r\n              <span>you're almost there</span>\r\n            </div>\r\n            <WrappedNormalLoginForm onSubmit={e => this.onLogin(login, e)} loading={loading}/>\r\n            <div className=\"LoginContent__Footer\">\r\n              <Modal\r\n                content={<ForgotPasswordContent />}\r\n                className=\"ModalForgotPassword\"\r\n              >\r\n                <h5>Forgot password?</h5>\r\n              </Modal>\r\n              <p>\r\n                Don’t have Account? Please{\" \"}\r\n                <Modal content={<SignupFreelancer />} className=\"ModalSignup\">\r\n                  <span>Sign up</span>\r\n                </Modal>\r\n              </p>\r\n              <h5>Or Use Social Networks</h5>\r\n              <div className=\"social\">\r\n                <img\r\n                  alt=\"google\"\r\n                  onClick={() => this.goToLink(\"https://google.com/\")}\r\n                  src={_url(\"assets/icons/google-round.png\")}\r\n                />\r\n                <img\r\n                  alt=\"linkedin\"\r\n                  onClick={() => this.goToLink(\"https://linkedin.com/\")}\r\n                  src={_url(\"assets/icons/linkedin-round.png\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nclass NormalLoginForm extends React.Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.props.onSubmit(values);\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Form\r\n        onSubmit={this.handleSubmit}\r\n        className=\"LoginContent__Form login-form\"\r\n      >\r\n        <div className=\"LoginContent__Form__Head\">\r\n          <div className=\"LoginContent__Form__Head--Col\">\r\n            <Form.Item>\r\n              {getFieldDecorator(\"email\", {\r\n                rules: [{ required: true, message: \"Please input your email\" }]\r\n              })(\r\n                <Input\r\n                  type=\"email\"\r\n                  placeholder=\"Input Your Text Here\"\r\n                  label=\"email\"\r\n                />\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item>\r\n              {getFieldDecorator(\"password\", {\r\n                rules: [\r\n                  { required: true, message: \"Please input your password\" }\r\n                ]\r\n              })(\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Input Your Text Here\"\r\n                  label=\"password\"\r\n                />\r\n              )}\r\n            </Form.Item>\r\n          </div>\r\n        </div>\r\n        <div className=\"LoginContent__Form__Footer\">\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n            background=\"#FED008\"\r\n            loading={this.props.loading}\r\n          >\r\n            Log in\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: \"normal_login\" })(\r\n  NormalLoginForm\r\n);\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  };\r\n};\r\nexport default withRouter(connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(LoginContent));\r\n"]},"metadata":{},"sourceType":"module"}